{
  "name": "Automated Test Runner",
  "description": "Runs relevant tests when code changes are detected",
  "trigger": {
    "type": "file_save",
    "pattern": "lib/**/*.dart"
  },
  "actions": [
    {
      "type": "command",
      "command": "flutter test --coverage --reporter=expanded",
      "description": "Run all tests with coverage"
    },
    {
      "type": "command",
      "command": "genhtml coverage/lcov.info -o coverage/html",
      "description": "Generate HTML coverage report",
      "optional": true
    }
  ],
  "notifications": {
    "success": "All tests passed ✅ Coverage report generated",
    "failure": "Tests failed ❌ Please review and fix failing tests"
  }
}